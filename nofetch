#!/usr/bin/env bash

if [[ $1 == "" ]];
then
	rng=$((1 + $RANDOM % 12 ))
else
	if [[ $1 -lt 13 ]];
	then
		rng=$1
	else
		rng=$((1 + $RANDOM % 12 ))
	fi
fi

uname -o &> /dev/null

if [ $(uname -s) == "Darwin" ]
then
        osname=$(sw_vers | cut -d':' -f2- | head -n 1 | xargs)
elif [ -f /etc/os-release ]
then
	osname=$(cat /etc/os-release | grep -w NAME | head -1 | sed 's/NAME=//g' | sed 's/\"//g' | sed 's/ Linux//g')
elif [ $? -eq 0 ]
then
	osname=$(uname -o)
else
	osname="Unknown"
fi

if [ $rng -eq 1 ] &> /dev/null
then
        nofetch="probably a computer"
elif [ $rng -eq 2 ] &> /dev/null
then
        nofetch="there's probably some ram in there"
elif [ $rng -eq 3 ] &> /dev/null
then
        nofetch="init should ideally be running"
elif [ $rng -eq 4 ] &> /dev/null
then
        nofetch="yeah"
elif [ $rng -eq 5 ] &> /dev/null
then
        nofetch="you should probably go outside"
elif [ $rng -eq 6 ] &> /dev/null
then
        nofetch="i would be lead to believe that / is mounted"
elif [ $rng -eq 7 ] &> /dev/null
then
        nofetch="hey, what's this knob do ?"
elif [ $rng -eq 8 ] &> /dev/null
then
        nofetch="do you have games on your phone ?"
elif [ $rng -eq 9 ] &> /dev/null
then
        nofetch="you mean to tell me there aren't little men in this box?"
elif [ $rng -eq 10 ] &> /dev/null
then
        nofetch="plan 4 from the front door"
elif [ $rng -eq 11 ] &> /dev/null
then
	nofetch="i use "$osname" btw"
elif [ $rng -eq 12 ] &> /dev/null
then
	nofetch="if you're reading this, it's already too late"
else
        nofetch="something has gone terribly wrong"
fi

if [ $1 == "-o" ] &> /dev/null || [ $2 == "-o" ] &> /dev/null
then
	echo "$osname"
elif [[ "$osname" == *"BSD"* ]]
then
	echo " "
	echo "> $nofetch" | tr '[:upper:]' '[:lower:]'
	echo "> $(uname -smr)" | tr '[:upper:]' '[:lower:]'
	echo " "
else
	echo " "
	echo "> $nofetch" | tr '[:upper:]' '[:lower:]'
	echo "> $osname $(uname -smr)" | tr '[:upper:]' '[:lower:]'
	echo " "
fi
